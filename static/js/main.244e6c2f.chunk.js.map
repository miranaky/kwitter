{"version":3,"sources":["fbase.js","components/AuthForm.js","router/Auth.js","components/Kweet.js","components/KweetFactory.js","router/Home.js","components/EditProfile.js","router/Profile.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","REACT_APP_MESSAGINGSENDERID","appId","app","initializeApp","authService","getAuth","dbService","getFirestore","storageService","getStorage","AuthForm","refreshUser","useState","email","setEmail","password","setPassword","createAccount","setCreateAccount","error","setError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","nameParts","split","displayName","length","updateProfile","user","signInWithEmailAndPassword","message","className","type","placeholder","required","onClick","prev","Auth","onSocialLogin","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","icon","faTwitter","color","size","style","marginBottom","faGoogle","faGithub","Kweet","kweetObj","isOwn","editting","setEditting","text","newTweet","setNewTweet","onClickDelete","window","confirm","deleteDoc","doc","id","attachmentUrl","deleteObject","ref","toggleEditting","updateDoc","autoFocus","src","faTrash","faPencilAlt","KweetFactory","userObj","kweet","setKweet","attachment","setAttachment","inputFile","useRef","storageRef","uid","uuidv4","uploadString","getDownloadURL","createdAt","Date","now","creatorId","addDoc","collection","current","maxLength","for","faPlus","accept","theFile","files","reader","FileReader","readAsDataURL","onloadend","finishedEvent","result","opacity","backgroundImage","alt","faTimes","Home","kweets","setKweets","useEffect","orderedKweetQuery","query","orderBy","onSnapshot","snapshot","kweetArray","docs","map","marginTop","EditProfile","newDisplayName","setNewDisplayName","Profile","history","useHistory","onSignOut","signOut","push","getMyKweet","myCollection","myQuery","where","margin","fontSize","justifyContent","Navigation","display","alignItems","to","marginRight","flexDirection","marginLeft","faUser","AppRoute","isLoggedIn","maxWidth","width","exact","path","from","App","init","setInit","setUserObj","onAuthStateChanged","args","Boolean","currentUser","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.244e6c2f.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"@firebase/app\";\nimport { getAuth } from \"@firebase/auth\";\nimport { getFirestore } from \"@firebase/firestore\";\nimport { getStorage } from \"@firebase/storage\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_APPID,\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const authService = getAuth(app);\nexport const dbService = getFirestore(app);\nexport const storageService = getStorage(app);\n","import React, { useState } from \"react\";\nimport { authService } from \"fbase\";\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n} from \"firebase/auth\";\n\nconst AuthForm = ({ refreshUser }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [createAccount, setCreateAccount] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === \"email\") {\n      setEmail(value);\n    }\n    if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      let data;\n      if (createAccount) {\n        data = await createUserWithEmailAndPassword(\n          authService,\n          email,\n          password\n        );\n        const nameParts = email.split(\"@\");\n        const displayName = nameParts.length === 2 ? nameParts[0] : null;\n        await updateProfile(data.user, { displayName });\n        refreshUser();\n      } else {\n        data = await signInWithEmailAndPassword(authService, email, password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const toggleAccount = () => {\n    setCreateAccount((prev) => !prev);\n  };\n  return (\n    <>\n      <form onSubmit={onSubmit} className=\"container\">\n        <input\n          name=\"email\"\n          type=\"text\"\n          placeholder=\"Email\"\n          required\n          value={email}\n          onChange={onChange}\n          className=\"authInput\"\n        ></input>\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n          value={password}\n          onChange={onChange}\n          className=\"authInput\"\n        ></input>\n        <input\n          type=\"submit\"\n          value={createAccount ? \"Create Account\" : \"Sign In\"}\n          className=\"authInput authSubmit\"\n        />\n        {error && <span className=\"authError\">{error}</span>}\n      </form>\n      <span onClick={toggleAccount} className=\"authSwitch\">\n        {createAccount ? \"Sign In\" : \"Create Account\"}\n      </span>\n    </>\n  );\n};\nexport default AuthForm;\n","import {\n  faGithub,\n  faGoogle,\n  faTwitter,\n} from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport AuthForm from \"components/AuthForm\";\nimport { authService } from \"fbase\";\nimport {\n  GithubAuthProvider,\n  GoogleAuthProvider,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport React from \"react\";\n\nconst Auth = ({ refreshUser }) => {\n  const onSocialLogin = async (event) => {\n    event.preventDefault();\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new GoogleAuthProvider();\n    }\n    if (name === \"github\") {\n      provider = new GithubAuthProvider();\n    }\n    await signInWithPopup(authService, provider);\n  };\n\n  return (\n    <div className=\"authContainer\">\n      <FontAwesomeIcon\n        icon={faTwitter}\n        color={\"#04AAFF\"}\n        size=\"3x\"\n        style={{ marginBottom: 30 }}\n      />\n      <AuthForm refreshUser={refreshUser} />\n      <div className=\"authBtns\">\n        <button onClick={onSocialLogin} name=\"google\" className=\"authBtn\">\n          Continue with Google <FontAwesomeIcon icon={faGoogle} />\n        </button>\n        <button onClick={onSocialLogin} name=\"github\" className=\"authBtn\">\n          Continue with Github <FontAwesomeIcon icon={faGithub} />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React, { useState } from \"react\";\nimport { deleteDoc, doc, updateDoc } from \"@firebase/firestore\";\nimport { deleteObject, ref } from \"@firebase/storage\";\nimport { dbService, storageService } from \"fbase\";\nimport { faPencilAlt, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst Kweet = ({ kweetObj, isOwn }) => {\n  const [editting, setEditting] = useState(false);\n  const [newTweet, setNewTweet] = useState(kweetObj.text);\n\n  const onClickDelete = async () => {\n    const ok = window.confirm(\"Are you sure you want to delete this kweet?\");\n    if (ok) {\n      await deleteDoc(doc(dbService, \"kweet\", kweetObj.id));\n      if (kweetObj.attachmentUrl !== \"\") {\n        await deleteObject(ref(storageService, kweetObj.attachmentUrl));\n      }\n    }\n  };\n\n  const toggleEditting = () => setEditting((prev) => !prev);\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewTweet(value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    await updateDoc(doc(dbService, \"kweet\", kweetObj.id), { text: newTweet });\n    setEditting(false);\n  };\n\n  return (\n    <div className=\"nweet\">\n      {editting ? (\n        <>\n          <form onSubmit={onSubmit} className=\"container nweetEdit\">\n            <input\n              type=\"text\"\n              placeholder=\"Edit your Kweet.\"\n              onChange={onChange}\n              value={newTweet}\n              required\n              autoFocus\n              className=\"formInput\"\n            />\n            <input type=\"submit\" value=\"Update Kweet\" className=\"formBtn\" />\n          </form>\n          <button onClick={toggleEditting} className=\"formBtn cancelBtn\">\n            Cancel\n          </button>\n        </>\n      ) : (\n        <>\n          <h4>{kweetObj.text}</h4>\n          {kweetObj.attachmentUrl && <img src={kweetObj.attachmentUrl} />}\n          {isOwn && (\n            <div className=\"nweet__actions\">\n              <span onClick={onClickDelete}>\n                <FontAwesomeIcon icon={faTrash} />\n              </span>\n              <span onClick={toggleEditting}>\n                {\" \"}\n                <FontAwesomeIcon icon={faPencilAlt} />\n              </span>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Kweet;\n","import React, { useRef, useState } from \"react\";\nimport { dbService, storageService } from \"fbase\";\nimport { addDoc, collection } from \"@firebase/firestore\";\nimport { uploadString, ref, getDownloadURL } from \"@firebase/storage\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\nconst KweetFactory = ({ userObj }) => {\n  const [kweet, setKweet] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n\n  const inputFile = useRef();\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setKweet(value);\n  };\n  const onSubmit = async (event) => {\n    if (kweet === \"\") {\n      return;\n    }\n    event.preventDefault();\n    //upload photo at storage bucket and create photoURL\n    let attachmentUrl = \"\";\n    if (attachment !== \"\") {\n      const storageRef = ref(\n        storageService,\n        `kweet/${userObj.uid}/${uuidv4()}`\n      );\n      await uploadString(storageRef, attachment, \"data_url\");\n      attachmentUrl = await getDownloadURL(storageRef);\n    }\n    //create kweet\n    const kweetObj = {\n      text: kweet,\n      createdAt: Date.now(),\n      creatorId: userObj.uid,\n      attachmentUrl,\n    };\n    //upload kweet at firebase\n    await addDoc(collection(dbService, \"kweet\"), kweetObj);\n\n    //reset empty\n    setKweet(\"\");\n    setAttachment(\"\");\n    inputFile.current.value = null;\n  };\n\n  const onChangeAttachment = (event) => {\n    const {\n      target: { files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(theFile);\n    reader.onloadend = (finishedEvent) => {\n      const {\n        target: { result },\n      } = finishedEvent;\n      setAttachment(result);\n    };\n  };\n\n  const onClickClear = () => {\n    setAttachment(\"\");\n    inputFile.current.value = null;\n  };\n\n  return (\n    <form onSubmit={onSubmit} className=\"factoryForm\">\n      <div className=\"factoryInput__container\">\n        <input\n          className=\"factoryInput__input\"\n          name=\"kweet\"\n          type=\"text\"\n          value={kweet}\n          onChange={onChange}\n          placeholder=\"What's on your mind?\"\n          maxLength={120}\n          required\n        />\n        <input type=\"submit\" value=\"&rarr;\" className=\"factoryInput__arrow\" />\n      </div>\n      <label for=\"attach-file\" className=\"factoryInput__label\">\n        <span>Add photos</span>\n        <FontAwesomeIcon icon={faPlus} />\n      </label>\n      <input\n        id=\"attach-file\"\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={onChangeAttachment}\n        ref={inputFile}\n        style={{\n          opacity: 0,\n        }}\n      />\n      {attachment && (\n        <div className=\"factoryForm__attachment\">\n          <img\n            src={attachment}\n            style={{\n              backgroundImage: attachment,\n            }}\n            alt=\"\"\n          />\n          <div className=\"factoryForm__clear\" onClick={onClickClear}>\n            <span>Remove</span>\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n      )}\n    </form>\n  );\n};\nexport default KweetFactory;\n","import React, { useEffect, useState } from \"react\";\nimport { dbService } from \"fbase\";\nimport { collection, onSnapshot, query, orderBy } from \"@firebase/firestore\";\n\nimport Kweet from \"components/Kweet\";\nimport KweetFactory from \"components/KweetFactory\";\n\nconst Home = ({ userObj }) => {\n  const [kweets, setKweets] = useState([]);\n\n  useEffect(() => {\n    const orderedKweetQuery = query(\n      collection(dbService, \"kweet\"),\n      orderBy(\"createdAt\", \"desc\")\n    );\n    onSnapshot(orderedKweetQuery, (snapshot) => {\n      const kweetArray = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setKweets(kweetArray);\n    });\n  }, []);\n  return (\n    <div className=\"container\">\n      <KweetFactory userObj={userObj} />\n      <div style={{ marginTop: 30 }}>\n        {kweets.map((kweet) => (\n          <Kweet\n            key={kweet.id}\n            kweetObj={kweet}\n            isOwn={kweet.creatorId === userObj.uid}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\n\nconst EditProfile = ({ userObj, refreshUser }) => {\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n\n  const onChangeName = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDisplayName(value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await userObj.updateProfile({\n        displayName: newDisplayName,\n      });\n      refreshUser();\n    }\n  };\n\n  return (\n    <form onSubmit={onSubmit} className=\"container profileForm\">\n      <input\n        onChange={onChangeName}\n        type=\"text\"\n        autoFocus\n        placeholder=\"Display Name\"\n        value={newDisplayName}\n        className=\"formInput\"\n      />\n      <input\n        type=\"submit\"\n        value=\"Edit UserName\"\n        className=\"formBtn\"\n        style={{\n          marginTop: 10,\n        }}\n      />\n    </form>\n  );\n};\n\nexport default EditProfile;\n","import {\n  collection,\n  query,\n  orderBy,\n  onSnapshot,\n  where,\n} from \"@firebase/firestore\";\nimport { signOut } from \"firebase/auth\";\nimport React, { useEffect, useState } from \"react\";\nimport { authService, dbService } from \"fbase\";\nimport { useHistory } from \"react-router-dom\";\nimport Kweet from \"components/Kweet\";\nimport EditProfile from \"components/EditProfile\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [kweets, setKweets] = useState([]);\n\n  const onSignOut = async () => {\n    await signOut(authService);\n    history.push(\"/\");\n  };\n\n  const getMyKweet = async () => {\n    const myCollection = collection(dbService, \"kweet\");\n    const myQuery = query(\n      myCollection,\n      orderBy(\"createdAt\", \"desc\"),\n      where(\"creatorId\", \"==\", userObj.uid)\n    );\n    onSnapshot(myQuery, (snapshot) => {\n      const kweetArray = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setKweets(kweetArray);\n    });\n  };\n\n  useEffect(() => {\n    getMyKweet();\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <EditProfile userObj={userObj} refreshUser={refreshUser} />\n      <span className=\"formBtn cancelBtn logOut\" onClick={onSignOut}>\n        Sign Out\n      </span>\n      <div style={{ marginTop: 30 }}>\n        <h3\n          style={{\n            margin: 20,\n            fontSize: 20,\n            justifyContent: \"center\",\n          }}\n        >\n          My Kweets!\n        </h3>\n        {kweets &&\n          kweets.map((kweet) => (\n            <Kweet\n              key={kweet.id}\n              kweetObj={kweet}\n              isOwn={kweet.creatorId === userObj.uid}\n            />\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Navigation = ({ userObj }) => (\n  <nav\n    style={{\n      display: \"flex\",\n      justifyContent: \"center\",\n      marginTop: 50,\n    }}\n  >\n    <div className=\"container\">\n      <ul\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <li>\n          <Link\n            to=\"/\"\n            style={{\n              marginRight: 10,\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              fontSize: 12,\n            }}\n          >\n            <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size=\"2x\" />\n            <span style={{ marginTop: 10 }}>Home</span>\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/profile\"\n            style={{\n              marginLeft: 10,\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              fontSize: 12,\n            }}\n          >\n            <FontAwesomeIcon icon={faUser} color={\"#04AAFF\"} size=\"2x\" />\n            <span style={{ marginTop: 10 }}>\n              {userObj.displayName\n                ? `${userObj.displayName}'s Profile`\n                : \"Profile\"}\n            </span>\n          </Link>\n        </li>\n      </ul>\n    </div>\n  </nav>\n);\n\nexport default Navigation;\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Auth from \"router/Auth\";\nimport Home from \"router/Home\";\nimport Profile from \"router/Profile\";\nimport Navigation from \"./Navigation\";\n\nconst AppRoute = ({ isLoggedIn, userObj, refreshUser }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n      <Switch>\n        {isLoggedIn ? (\n          <div\n            style={{\n              maxWidth: 890,\n              width: \"100%\",\n              margin: \"0 auto\",\n              marginTop: 80,\n              display: \"flex\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile userObj={userObj} refreshUser={refreshUser} />\n            </Route>\n            <Redirect from=\"*\" to=\"/\" />\n          </div>\n        ) : (\n          <>\n            <Route exact path=\"/\">\n              <Auth refreshUser={refreshUser} />\n            </Route>\n            <Redirect from=\"*\" to=\"/\" />\n          </>\n        )}\n        ;\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRoute;\n","import React, { useEffect, useState } from \"react\";\nimport AppRoute from \"./Router\";\nimport { authService } from \"fbase\";\nimport { onAuthStateChanged, updateProfile } from \"firebase/auth\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => updateProfile(user, args),\n    });\n  };\n\n  useEffect(() => {\n    onAuthStateChanged(authService, (user) => {\n      if (user && user.displayName == null) {\n        const nameParts = user.email.split(\"@\");\n        const name = nameParts.length === 2 ? nameParts[0] : null;\n        updateProfile(user, { displayName: name });\n      }\n      if (user) {\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => updateProfile(user, args),\n        });\n      } else {\n        setUserObj(null);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  return (\n    <>\n      {init ? (\n        <AppRoute\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n          refreshUser={refreshUser}\n        />\n      ) : (\n        \"Initializing...\"\n      )}\n      <footer>&copy; {new Date().getFullYear()} Kwitter</footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport \"./style.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}